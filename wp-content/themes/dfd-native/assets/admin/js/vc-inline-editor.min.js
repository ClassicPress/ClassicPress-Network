!function(a){"use strict";window.InlineShortcodeView_vc_column=window.InlineShortcodeViewContainerWithParent.extend({controls_selector:"#vc_controls-template-vc_column",resizeDomainName:"columnSize",_x:0,css_width:12,prepend:!1,initialize:function(a){window.InlineShortcodeView_vc_column.__super__.initialize.call(this,a),_.bindAll(this,"startChangeSize","stopChangeSize","resize")},render:function(){return window.InlineShortcodeView_vc_column.__super__.render.call(this),this.prepend=!1,a('<div class="vc_resize-bar"></div>').appendTo(this.$el).mousedown(this.startChangeSize),this.setColumnClasses(),this.customCssClassReplace(),this},destroy:function(a){var b=this.model.get("parent_id");window.InlineShortcodeView_vc_column.__super__.destroy.call(this,a),vc.shortcodes.where({parent_id:b}).length||vc.shortcodes.get(b).destroy()},customCssClassReplace:function(){var a,b,c;a=this.$el.find(".wpb_column").attr("class"),b=/.*(vc_custom_\d+).*/,c=!(!a||!a.match)&&a.match(b),c&&c[1]&&(this.$el.addClass(c[1]),this.$el.find(".wpb_column").attr("class",a.replace(c[1],"").trim()))},setColumnClasses:function(){var a=this.getParam("offset")||"",b=this.getParam("width")||"1/1";this.moveAttributes(),this.css_class_width=this.convertSize(b),a.match(/vc_col\-sm\-\d+/)||this.$el.addClass(this.widthToString(this.css_class_width)),vc.responsive_disabled&&(a=a.replace(/vc_col\-(lg|md|xs)[^\s]*/g,"")),_.isEmpty(a)||this.$el.addClass(a)},startChangeSize:function(b){var c=this.getParam(c)||12;this._grid_step=this.parent_view.$el.width()/c,vc.frame_window.jQuery("body").addClass("vc_column-dragging").disableSelection(),this._x=parseInt(b.pageX),vc.$page.bind("mousemove."+this.resizeDomainName,this.resize),a(vc.frame_window.document).mouseup(this.stopChangeSize)},stopChangeSize:function(){this._x=0,vc.frame_window.jQuery("body").removeClass("vc_column-dragging").enableSelection(),vc.$page.unbind("mousemove."+this.resizeDomainName)},resize:function(a){var b,c,d=this.model.get("params");c=a.pageX-this._x,Math.abs(c)<this._grid_step||(this._x=parseInt(a.pageX),b=""+this.css_class_width,c>0?this.css_class_width+=1:0>c&&(this.css_class_width-=1),12<this.css_class_width&&(this.css_class_width=12),1>this.css_class_width&&(this.css_class_width=1),d.width=vc.getColumnSize(this.css_class_width),this.model.save({params:d},{silent:!0}),this.$el.removeClass(this.widthToString(b)).addClass(this.widthToString(this.css_class_width)))},convertSize:function(a){var b=a?a.split("/"):[1,1],c=_.range(1,13),d=!_.isUndefined(b[0])&&0<=_.indexOf(c,parseInt(b[0],10))&&parseInt(b[0],10),e=!_.isUndefined(b[1])&&0<=_.indexOf(c,parseInt(b[1],10))&&parseInt(b[1],10);return!1!==d&&!1!==e?this.widthToString(12*d/e):12},widthToString:function(a){a&&""!=a?a>12?a=12:1>a&&(a=1):a=12;var b=["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];return b[+a-1]},moveAttributes:function(){var a=jQuery(this.$el),b=jQuery(this.$el.find("> .columns"));jQuery(b[0].attributes).each(function(){"class"==this.nodeName?a.addClass(this.nodeValue):a.attr(this.nodeName,this.nodeValue),b.attr(this.nodeName,"")}),jQuery(b).find("> div").unwrap()},allowAddControl:function(){return vc_user_access().shortcodeAll("vc_column")}}),window.InlineShortcodeView_vc_column_inner=window.InlineShortcodeView_vc_column.extend({})}(jQuery);