!function(a){"use strict";a(document).ready(function(){if(a("body").hasClass("post-type-page")||a("body").hasClass("post-type-post")||a("body").hasClass("post-type-portfolio")||a("body").hasClass("post-type-gallery")||a("body").hasClass("post-type-product")){var b=function(){var b=a("#advanced-sortables .dfd-metaboxes-wrap .postbox");a(".cmb_metabox > tbody > tr",b).each(function(){var c=a(this),d=c.attr("data-dependancy-option"),e=c.attr("data-dependancy-value");if(d&&""!=d&&e&&""!=e){var f=function(){var b=a('[name="'+d+'"]').is('input[type="radio"]')?a('[name="'+d+'"]:checked').val():a('[name="'+d+'"]').val(),f=e.split(",");-1!=a.inArray(b,f)?c.show(500):(c.find('input[type="text"], select').val(""),c.find('input[type="radio"]:checked').removeAttr("checked").trigger("change"),c.hide(500))};f(),b.on("change",'[name="'+d+'"]',function(){f()})}})},c=function(){a(".repeatable-grouping").each(function(){var b=a(this),c=b.find('input[type="radio"]'),d=b.find(".cmb-nested-table > tbody > tr"),e=function(){var a=b.find('input[type="radio"]:checked').val();d.siblings('[data-dependancy-value]:not([data-dependancy-value*="'+a+'"])').hide(500),d.siblings('[data-dependancy-value*="'+a+'"]').show(500)};e(),c.on("change",function(){e()})})},d=function(){"dfd-3d-parallax"==a('[class$="_hover_appear_effect"]').find("option:selected").val()?a('[class$="_hover_main_decoration"]').find("ul > li:last-child").hide(500).find('input[type="radio"]:checked').removeAttr("checked").trigger("change"):a('[class$="_hover_main_decoration"]').find("ul > li:last-child").show(500)},e=a("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats)").clone(),f=a("#advanced-sortables");a("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats)").remove(),e.prependTo(f),f.wrapInner('<div class="dfd-metaboxes-wrap" />').prepend('<div class="dfd-metaboxes-titles" />'),a(".dfd-metaboxes-wrap .postbox",f).each(function(){var b=a(this),c=b.attr("id"),d=b.not(".acf-hidden").find(".hndle").clone().attr("class",c);b.hasClass("closed")&&b.removeClass("closed"),b.hasClass("acf-hidden")&&b.remove(),b.find(".hndle").remove(),b.find(".handlediv").remove(),d.appendTo(".dfd-metaboxes-titles",f)}),a(".dfd-metaboxes-wrap",f).find(".postbox").not(":first").hide(),b(),c(),a("body").on("cmb_add_row cmb_shift_row",function(){c()}),d(),a("body").on("change",'[class$="_hover_appear_effect"]',function(){d()}),f.on("click touchend",".dfd-metaboxes-titles > *",function(){var c=a(this),d=c.attr("class");c.addClass("active").siblings().removeClass("active"),a(".dfd-metaboxes-wrap",f).find("#"+d).show().siblings(".postbox").hide(),b()}),a(".dfd-metaboxes-titles",f).find("> *").first().click()}a('input[type="checkbox"]').each(function(){var b=a(this),c=b.siblings("label"),d=c.find(".button-animation");c.click(function(){d.toggleClass("right-active")})})})}(jQuery),window.CMB=function(a,b,c){"use strict";var d=a.cmb_l10,e=a.setTimeout,f={formfield:"",idNumber:!1,file_frames:{},repeatEls:'input:not([type="button"]),select,textarea,.cmb_media_status'};return f.metabox=function(){return f.$metabox?f.$metabox:(f.$metabox=c("table.cmb_metabox"),f.$metabox)},f.init=function(){var b=f.metabox(),g=b.find(".repeatable-group");d.new_admin_style&&b.find(".cmb-spinner img").hide(),f.initPickers(b.find("input:text.cmb_timepicker"),b.find("input:text.cmb_datepicker"),b.find("input:text.cmb_colorpicker")),c("#ui-datepicker-div").wrap('<div class="cmb_element" />'),c('<p><span class="button cmb-multicheck-toggle">'+d.check_toggle+"</span></p>").insertBefore("ul.cmb_checkbox_list"),b.on("change",".cmb_upload_file",function(){f.formfield=c(this).attr("id"),c("#"+f.formfield+"_id").val("")}).on("click",".cmb-multicheck-toggle",f.toggleCheckBoxes).on("click",".cmb_upload_button",f.handleMedia).on("click",".cmb_remove_file_button",f.handleRemoveMedia).on("click",".add-group-row",f.addGroupRow).on("click",".add-row-button",f.addAjaxRow).on("click",".remove-group-row",f.removeGroupRow).on("click",".remove-row-button",f.removeAjaxRow).on("keyup paste focusout",".cmb_oembed",f.maybeOembed).on("cmb_remove_row",".repeatable-group",f.resetTitlesAndIterator),g.length&&g.filter(".sortable").each(function(){c(this).find(".remove-group-row").before('<a class="shift-rows move-up alignleft" href="#">'+d.up_arrow+'</a> <a class="shift-rows move-down alignleft" href="#">'+d.down_arrow+"</a>")}).on("click",".shift-rows",f.shiftRows).on("cmb_add_row",f.emptyValue),e(f.resizeoEmbeds,500),c(a).on("resize",f.resizeoEmbeds)},f.resetTitlesAndIterator=function(){c(".repeatable-group").each(function(){var a=c(this);a.find(".repeatable-grouping").each(function(b){var d=c(this);d.data("iterator",b),d.find(".cmb-group-title h4").text(a.find(".add-group-row").data("grouptitle").replace("{#}",b+1))})})},f.toggleCheckBoxes=function(a){a.preventDefault();var b=c(this),d=b.parents("td").find("input[type=checkbox]");b.data("checked")?(d.prop("checked",!1),b.data("checked",!1)):(d.prop("checked",!0),b.data("checked",!0))},f.handleMedia=function(a){if(wp){a.preventDefault();var b=f.metabox(),e=c(this);f.formfield=e.prev("input").attr("id");var g=c("#"+f.formfield),h=g.attr("name"),i=!0,j=!0,k=e.hasClass("cmb_upload_list");if(f.formfield in f.file_frames)return void f.file_frames[f.formfield].open();f.file_frames[f.formfield]=wp.media.frames.file_frame=wp.media({title:b.find("label[for="+f.formfield+"]").text(),button:{text:d.upload_file},multiple:!!k});var l={list:function(a){j=a.toJSON(),g.val(j.url),c("#"+f.formfield+"_id").val(j.id);var b=[];c(j).each(function(){i=this.type&&"image"===this.type?'<li class="img_status"><img width="50" height="50" src="'+this.url+'" class="attachment-50x50" alt="'+this.filename+'"><p><a href="#" class="cmb_remove_file_button" rel="'+f.formfield+"["+this.id+']">'+d.remove_image+'</a></p><input type="hidden" id="filelist-'+this.id+'" name="'+h+"["+this.id+']" value="'+this.url+'"></li>':"<li>"+d.file+" <strong>"+this.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+this.url+'" target="_blank" rel="external">'+d.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+f.formfield+"["+this.id+']">'+d.remove_file+'</a>)<input type="hidden" id="filelist-'+this.id+'" name="'+h+"["+this.id+']" value="'+this.url+'"></li>',b.push(i)}),c(b).each(function(){g.siblings(".cmb_media_status").slideDown().append(this)})},single:function(a){j=a.first().toJSON(),g.val(j.url),c("#"+f.formfield+"_id").val(j.id),i=j.type&&"image"===j.type?'<div class="img_status"><img style="max-width: 350px; width: 100%; height: auto;" src="'+j.url+'" alt="'+j.filename+'" title="'+j.filename+'" /><p><a href="#" class="cmb_remove_file_button" rel="'+f.formfield+'">'+d.remove_image+"</a></p></div>":d.file+" <strong>"+j.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+j.url+'" target="_blank" rel="external">'+d.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+f.formfield+'">'+d.remove_file+"</a>)",g.siblings(".cmb_media_status").slideDown().html(i)}};f.file_frames[f.formfield].on("select",function(){var a=f.file_frames[f.formfield].state().get("selection");l[k?"list":"single"](a)}),f.file_frames[f.formfield].open()}},f.handleRemoveMedia=function(a){a.preventDefault();var b=c(this);if(b.is(".attach_list .cmb_remove_file_button"))return b.parents("li").remove(),!1;f.formfield=b.attr("rel");var d=b.parents(".img_status");return f.metabox().find("input#"+f.formfield).val(""),f.metabox().find("input#"+f.formfield+"_id").val(""),d.length?d.html(""):b.parents(".cmb_media_status").html(""),!1},c.fn.replaceText=function(a,b,d){return this.each(function(){var e,f,g=this.firstChild,h=[];if(g)do{3===g.nodeType&&(e=g.nodeValue,(f=e.replace(a,b))!==e&&(!d&&/</.test(f)?(c(g).before(f),h.push(g)):g.nodeValue=f))}while(g=g.nextSibling);h.length&&c(h).remove()})},c.fn.cleanRow=function(a,b){var d=c(this),e=d.find('input:not([type="button"]), select, textarea, label');return b&&d.find(".cmb-repeat-table .repeat-row:not(:first-child)").remove(),f.$focus=!1,f.neweditor_id=[],e.filter(":checked").removeAttr("checked"),e.filter(":selected").removeAttr("selected"),d.find(".cmb-group-title")&&d.find(".cmb-group-title h4").text(d.data("title").replace("{#}",f.idNumber+1)),e.each(function(){var b,d,e,g=c(this),h=g.hasClass("wp-editor-area"),i=g.attr("for"),j={};if(i)j={for:i.replace("_"+a,"_"+f.idNumber)};else{var k=g.attr("name"),l=k?k.replace("["+a+"]","["+f.idNumber+"]"):"";d=g.attr("id"),b=d?d.replace("_"+a,"_"+f.idNumber):"",e=g.is('input[type="radio"]')?g.val():"",j={id:b,name:l,"data-iterator":f.idNumber,value:e}}if(g.removeClass("hasDatepicker").attr(j),h){b=b?d.replace("zx"+a,"zx"+f.idNumber):"",g.html("");var m=g.parents(".cmb-type-wysiwyg");m.find(".mce-tinymce:not(:first-child)").remove();var n=m.html().replace(new RegExp(d,"g"),b);m.html(n),f.neweditor_id.push({id:b,old:d})}f.$focus=f.$focus?f.$focus:g}),this},c.fn.newRowHousekeeping=function(){var a=c(this),b=a.find(".wp-picker-container"),d=a.find(".cmb_media_status");return b.length&&b.each(function(){var a=c(this).parent();a.html(a.find("input:text.cmb_colorpicker").attr("style",""))}),d.length&&d.empty(),this},f.afterRowInsert=function(a){f.$focus&&f.$focus.focus();var b;if(f.neweditor_id.length){var c;for(c=f.neweditor_id.length-1;c>=0;c--){var d=f.neweditor_id[c].id,e=f.neweditor_id[c].old;if(void 0===tinyMCEPreInit.mceInit[d]){var g=jQuery.extend({},tinyMCEPreInit.mceInit[e]);for(b in g)"string"==typeof g[b]&&(g[b]=g[b].replace(new RegExp(e,"g"),d));tinyMCEPreInit.mceInit[d]=g}if(void 0===tinyMCEPreInit.qtInit[d]){var h=jQuery.extend({},tinyMCEPreInit.qtInit[e]);for(b in h)"string"==typeof h[b]&&(h[b]=h[b].replace(new RegExp(e,"g"),d));tinyMCEPreInit.qtInit[d]=h}tinyMCE.init({id:tinyMCEPreInit.mceInit[d]})}}f.initPickers(a.find("input:text.cmb_timepicker"),a.find("input:text.cmb_datepicker"),a.find("input:text.cmb_colorpicker"))},f.updateNameAttr=function(){var a=c(this),b=a.attr("name");if(void 0===b)return!1;var d=parseInt(a.parents(".repeatable-grouping").data("iterator")),e=d-1,f=b.replace("["+d+"]","["+e+"]");a.attr("name",f)},f.emptyValue=function(a,b){c('input:not([type="button"]):not([type="radio"]):not([type="checkbox"]), textarea',b).val(""),c('input[type="radio"], input[type="checkbox"]',b).removeAttr("checked")},f.addGroupRow=function(a){a.preventDefault();var b=c(this),d=c("#"+b.data("selector")),e=d.find(".repeatable-grouping").last(),g=parseInt(e.data("iterator"));f.idNumber=g+1;var h=e.clone();h.data("title",b.data("grouptitle")).newRowHousekeeping().cleanRow(g,!0);var i=c('<tr class="repeatable-grouping" data-iterator="'+f.idNumber+'">'+h.html()+"</tr>");e.after(i),f.afterRowInsert(i),d.find(".repeatable-grouping").length<=1?d.find(".remove-group-row").prop("disabled",!0):d.find(".remove-group-row").removeAttr("disabled"),d.trigger("cmb_add_row",i),c("body").trigger("cmb_add_row")},f.addAjaxRow=function(a){a.preventDefault();var b=c(this),d="#"+b.data("selector"),e=c(d),g=e.find(".empty-row"),h=parseInt(g.find("[data-iterator]").data("iterator"));f.idNumber=h+1;var i=g.clone();i.newRowHousekeeping().cleanRow(h),g.removeClass("empty-row").addClass("repeat-row"),g.after(i),f.afterRowInsert(i),e.trigger("cmb_add_row",i),c("body").trigger("cmb_add_row")},f.removeGroupRow=function(a){a.preventDefault();var b=c(this),d=c("#"+b.data("selector")),e=b.parents(".repeatable-grouping"),g=d.find(".repeatable-grouping").length;e.nextAll(".repeatable-grouping").find(f.repeatEls).each(f.updateNameAttr),g>1&&(e.remove(),3>g?d.find(".remove-group-row").prop("disabled",!0):d.find(".remove-group-row").prop("disabled",!1),d.trigger("cmb_remove_row"))},f.removeAjaxRow=function(a){a.preventDefault();var b=c(this),d=b.parents("tr"),e=b.parents(".cmb-repeat-table");e.find("tr").length>1&&(d.hasClass("empty-row")&&d.prev().addClass("empty-row").removeClass("repeat-row"),b.parents(".cmb-repeat-table tr").remove(),e.trigger("cmb_remove_row"))},f.shiftRows=function(a){a.preventDefault();var b=c(this),d=b.parents(".repeatable-grouping"),e=b.hasClass("move-up")?d.prev(".repeatable-grouping"):d.next(".repeatable-grouping");if(e.length){var g=[];d.find(f.repeatEls).each(function(){var a,b=c(this);b.hasClass("cmb_media_status")?a=b.html():"checkbox"===b.attr("type")?(a=b.is(":checked"),f.log("checked",a)):"select"===b.prop("tagName")?(a=b.is(":selected"),f.log("checked",a)):a=b.val(),g.push({val:a,$:b})}),e.find(f.repeatEls).each(function(a){var b,d=c(this);d.hasClass("cmb_media_status")?(b=d.html(),d.html(g[a].val),g[a].$.html(b)):"checkbox"===d.attr("type")?(g[a].$.prop("checked",d.is(":checked")),d.prop("checked",g[a].val)):"select"===d.prop("tagName")?(g[a].$.prop("selected",d.is(":selected")),d.prop("selected",g[a].val)):(g[a].$.val(d.val()),d.val(g[a].val))}),c("body").trigger("cmb_shift_row")}},f.initPickers=function(a,b,c){f.initTimePickers(a),f.initDatePickers(b),f.initColorPickers(c)},f.initTimePickers=function(a){a.length&&a.timePicker({startTime:"00:00",endTime:"23:59",show24Hours:!1,separator:":",step:30})},f.initDatePickers=function(a){a.length&&(a.datepicker("destroy"),a.datepicker())},f.initColorPickers=function(a){a.length&&("object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker?a.wpColorPicker():a.each(function(a){c(this).after('<div id="picker-'+a+'" style="z-index: 1000; background: #EEE; border: 1px solid #CCC; position: absolute; display: block;"></div>'),c("#picker-"+a).hide().farbtastic(c(this))}).focus(function(){c(this).next().show()}).blur(function(){c(this).next().hide()}))},f.maybeOembed=function(a){var b=c(this),d=a.type;({focusout:function(){e(function(){f.spinner(".postbox table.cmb_metabox",!0)},2e3)},keyup:function(){var c=function(b,c){return a.which<=c&&a.which>=b};(c(48,90)||c(96,111)||c(8,9)||187===a.which||190===a.which)&&f.doAjax(b,a)},paste:function(){e(function(){f.doAjax(b)},100)}})[d]()},f.resizeoEmbeds=function(){f.metabox().each(function(){var a=c(this),b=a.parents(".inside");if(!b.length)return!0;var d=Math.round(.82*b.width()*.97)-30;if(d>639)return!0;var e=a.find(".cmb-type-oembed .embed_status"),f=e.children().not(".cmb_remove_wrapper");return!f.length||void f.each(function(){var a=c(this),b=a.width(),e=a.height(),f=d;a.parents(".repeat-row").length&&(f=d-91);var g=Math.round(f*e/b);a.width(f).height(g)})})},f.log=function(){d.script_debug&&console&&"function"==typeof console.log&&console.log.apply(console,arguments)},f.spinner=function(a,b){b?c(".cmb-spinner",a).hide():c(".cmb-spinner",a).show()},f.doAjax=function(a){var b=a.val();if(!(b.length<6)){var g=a.attr("id"),h=a.parents(".cmb-repeat-table  tr td");h=h.length?h:a.parents(".cmb_metabox tr td");var i=c(".embed_status",h),j=a.width(),k=c(":first-child",i);f.log("oembed_url",b,g),j=i.length&&k.length?k.width():a.width(),f.spinner(h),c(".embed_wrap",h).html(""),e(function(){c(".cmb_oembed:focus").val()===b&&c.ajax({type:"post",dataType:"json",url:d.ajaxurl,data:{action:"cmb_oembed_handler",oembed_url:b,oembed_width:j>300?j:300,field_id:g,object_id:a.data("objectid"),object_type:a.data("objecttype"),cmb_ajax_nonce:d.ajax_nonce},success:function(a){f.log(a),void 0!==a.id&&(f.spinner(h,!0),c(".embed_wrap",h).html(a.result))}})},500)}},c(b).ready(f.init),f}(window,document,jQuery),function(a){"use strict";a(document).ready(function(){var b=a("#dfd_headers_header_style"),c=a("#dfd_headers_logo_position"),d=a("#dfd_headers_menu_position"),e=a(".cmb_id_dfd_headers_show_side_area"),f=a(".cmb_id_dfd_headers_show_top_inner_page"),g=function(){+b.val()<7?(e.show(),f.show()):(e.hide(),f.hide()),"0"==b.val()||"1"==b.val()||"2"==b.val()?(c.parents("tr").show(),d.parents("tr").show()):(c.parents("tr").hide(),d.parents("tr").hide())};g(),b.on("change",g)})}(jQuery);