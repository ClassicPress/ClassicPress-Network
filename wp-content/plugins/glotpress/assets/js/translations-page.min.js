jQuery(function(b){var a=b("#bulk-action"),d=b("#bulk-priority");$gp.showhide("#upper-filters-toolbar a.sort","#upper-filters-toolbar dl.sort",{show_text:$gp_translations_options.sort+" &darr;",hide_text:$gp_translations_options.sort+" &uarr;",focus:"#sort\\[by\\]"});$gp.showhide("#upper-filters-toolbar a.filter","#upper-filters-toolbar dl.filters",{show_text:$gp_translations_options.filter+" &darr;",hide_text:$gp_translations_options.filter+" &uarr;",focus:"#filters\\[term\\]"});a.on("change",function(){var e=b("option:selected",this);if("set-priority"===e.val()){d.removeClass("hidden");}else{d.addClass("hidden");}});b("form.filters-toolbar.bulk-actions").submit(function(f){var g=b("input:checked",b("table#translations th.checkbox")).map(function(){return b(this).parents("tr.preview").attr("row");}).get().join(",");b('input[name="bulk[row-ids]"]',b(this)).val(g);});b("a#export").click(function(){var g=b("#export-format").val();var h=b("#what-to-export").val();var e="";if(h=="filtered"){var f=(b(this).attr("filters").indexOf("?")==-1)?"?":"&";e=b(this).attr("filters")+f+"format="+g;}else{e=b(this).attr("href")+"?format="+g;}window.location=e;return false;});var c=false;b("tbody").children().children(".checkbox").find(":checkbox").click(function(f){if("undefined"==f.shiftKey){return true;}if(f.shiftKey){if(!c){return true;}checks=b(c).closest("table").find(":checkbox");first=checks.index(c);last=checks.index(this);checked=b(this).prop("checked");if(0<first&&0<last&&first!=last){checks.slice(first,last).prop("checked",function(){if(b(this).closest("tr").is(":visible")){return checked;}return false;});}}c=this;return true;});b("thead, tfoot").find(".checkbox :checkbox").click(function(h){var i=b(this).prop("checked"),g="undefined"==typeof toggleWithKeyboard?false:toggleWithKeyboard,f=h.shiftKey||g;b(this).closest("table").children("tbody").filter(":visible").children().children(".checkbox").find(":checkbox").prop("checked",function(){if(b(this).closest("tr").is(":hidden")){return false;}if(f){return b(this).prop("checked");}else{if(i){return true;}}return false;});b(this).closest("table").children("thead,  tfoot").filter(":visible").children().children(".checkbox").find(":checkbox").prop("checked",function(){if(f){return false;}else{if(i){return true;}}return false;});});});